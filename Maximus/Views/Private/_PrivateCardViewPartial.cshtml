@model IEnumerable<Maximus.Data.Models.styleViewmodel>
@{
    Maximus.Data.Interface.Concrete.IUnitOfWork _unitOfWork = new Maximus.Data.InterFace.UnitOfWork();
    Maximus.Controllers.PrivateController home = new Maximus.Controllers.PrivateController(_unitOfWork);
    Maximus.Data.Models.DataProcessing hc = new Maximus.Data.Models.DataProcessing(_unitOfWork);
    Maximus.Services.Interface.IDataConnection _dataConnection = new Maximus.Services.DataConnectionService(_unitOfWork);
}
@{
    var cardView = Html.DevExpress().CardView(settings =>
    {
        #region settings
        settings.Name = "PrivateCardView";
        settings.CallbackRouteValues = new { Controller = "Private", Action = "PrivateCardViewPartial" };
        settings.SettingsPager.SettingsTableLayout.ColumnCount = 2;
        settings.SettingsEditing.Mode = CardViewEditingMode.PopupEditForm;
        settings.SettingsBehavior.ConfirmDelete = true;
        settings.ControlStyle.CssClass = "padder";
        //settings.SettingsSearchPanel.Visible = true;
        var reason = false;
        var colc = Session["cardColumns"];
        var template = (List<string>)Session["Templates"];
        var businessId = Session["BuisnessId"].ToString();
        var selUcode = Session["SelectedUcode"] == null ? "" : Session["SelectedUcode"].ToString();
        colc = Session["ColorSizestyle"].ToString() == "SWATCHES" ? 1 : colc;
        if (Convert.ToInt16(colc) > 0)
        {
            int col = Convert.ToInt16(colc);
            settings.SettingsPager.SettingsTableLayout.ColumnCount = col;
        }
        else
        {
            settings.SettingsPager.SettingsTableLayout.ColumnCount = 2;
        }
        var rowc = Session["cardRows"];
        if (Convert.ToInt16(rowc) > 0)
        {
            int ro = Convert.ToInt16(rowc);
            settings.SettingsPager.SettingsTableLayout.RowsPerPage = ro;

        }
        else
        {
            settings.SettingsPager.SettingsTableLayout.RowsPerPage = 10;
        }
        //settings.SettingsPopup.EditForm.Width = 600;
        settings.Width = System.Web.UI.WebControls.Unit.Percentage(100);
        settings.SettingsEditing.Mode = CardViewEditingMode.EditForm;

        settings.SettingsBehavior.ConfirmDelete = true;
        settings.KeyFieldName = "StyleID";

        settings.SettingsPager.Mode = GridViewPagerMode.ShowPager;
        settings.SettingsPager.Visible = true;
        settings.Settings.ShowHeaderPanel = false;

        settings.Settings.ShowHeaderFilterButton = true;
        settings.Settings.EnableFilterControlPopupMenuScrolling = false;
        settings.SettingsBehavior.AllowSelectByCardClick = true;
        //settings.Settings.ShowHeaderPanel = true;
        //settings.ClientSideEvents.BeginCallback = "BeginCallback";

        //settings.ClientSideEvents.Init = "CheckConditions";
        string filterExpression = ""; string filterExpressionSTR = "";
        // Maximus.Models.e4kmaximusdbEntities entity = new Maximus.Models.e4kmaximusdbEntities();


        #region prerendr
        settings.PreRender = (sender, e) =>
        {

            MVCxCardView cv = sender as MVCxCardView;
            for (int i = 0; i < cv.VisibleCardCount; i++)
            {
                string StyleID = (string)cv.GetCardValues(i, "StyleID");
                if (!StyleID.Contains(','))
                {
                    var clr1Lst = hc.getColors(StyleID);
                    //var size1Lst = hc.getSizes(StyleID);
                    List<string> colorLst = new List<string>();
                    int count1 = 0, count2 = 0;
                    if (clr1Lst != null)
                    {
                        foreach (var cl in clr1Lst.Where(s => s.ObsoleteCode == 0).ToList())
                        {

                            colorLst.Add(cl.ColorId.ToString());
                            count1 = count1 + 1;

                        }
                        foreach (string colors in colorLst)
                        {
                            if (home._styleColorSizeObsolete.Exists(y => y.StyleID == StyleID && y.ColourID == colors))
                            {
                                count2 = count2 + home._styleColorSizeObsolete.GetAll(y => y.StyleID == StyleID && y.ColourID == colors && y.Obsolete_Class == 0).Select(y => y.SizeID).Count();
                            }
                        }
                        if (count1 < 1 && count2 < 0)
                        {
                            filterExpressionSTR = filterExpressionSTR + "'" + StyleID + "',";

                        }
                    }
                }
            }
            if (filterExpressionSTR.Contains(','))
            {
                filterExpressionSTR = filterExpressionSTR.TrimEnd(',');
                filterExpression = "NOT [StyleID] IN (" + filterExpressionSTR + ")";
                cv.FilterExpression = filterExpression;
            }
        };
        #endregion
        string selEMP1 = Session["SelectedEmp"].ToString();
        var salesOrderLinesCart = ((List<Maximus.Data.Models.SalesOrderHeaderViewModel>)Session["SalesOrderHeader"]).Where(a => a.EmployeeID == selEMP1).First().SalesOrderLine.Count() > 0 ? ((List<Maximus.Data.Models.SalesOrderHeaderViewModel>)Session["SalesOrderHeader"]).Where(a => a.EmployeeID == selEMP1).First().SalesOrderLine.ToList() : new List<Maximus.Data.Models.SalesOrderLineViewModel>();


        settings.CardLayoutCreated = (sender, e) =>
        {
            string BusinessId = Session["BuisnessId"].ToString();
            var reasons = home._reason.GetAll(xs => xs.BusinessId == BusinessId).Select(c => new { c.Description }).ToList();
            reason = reasons.Count > 0 ? true : false;
            MVCxCardView cv = sender as MVCxCardView;
            string StyleID = (string)cv.GetCardValues(e.VisibleIndex, "StyleID");
            if (ViewBag.page != null)
            {
                if (ViewBag.page)
                {
                    cv.PageIndex = 0;
                }
            }
            if (e.VisibleIndex >= 0)
            {
                bool value = (bool)cv.GetCardValues(e.VisibleIndex, "isAllocated");
                if (value)
                {

                    //e.Properties.Items[1].ParentContainerStyle.CssClass = "itemToHide";
                    //e.Properties.Items[2].ParentContainerStyle.CssClass = "itemToHide";
                    e.Properties.Items[3].ParentContainerStyle.CssClass = "itemToHide";
                    e.Properties.Items[0].ParentContainerStyle.CssClass = "itemToHide";
                    if ((bool)Session["IsManPack"] == true)
                    {
                        e.Properties.Items[6].ParentContainerStyle.CssClass = "itemToHide";
                    }
                    e.Properties.Items[1].ParentContainerStyle.CssClass = "itemToHide";
                    //e.Properties.Items[7].ParentContainerStyle.CssClass = "itemToHide";
                    e.Properties.Items[4].ParentContainerStyle.CssClass = "itemToHide";
                    e.Properties.Items[5].ParentContainerStyle.CssClass = "itemToHide";
                    //e.Properties.Items[8].ParentContainerStyle.CssClass = "itemToHide";
                    //e.Properties.Items[9].ParentContainerStyle.CssClass = "itemToHide";
                    //e.Properties.Items[10].ParentContainerStyle.CssClass = "itemToHide";
                }
                else
                {

                    if (template.Count == 0)
                    {
                        e.Properties.Items[1].ParentContainerStyle.CssClass = "itemToHide";

                        if (reasons.Count == 0)
                        {
                            //e.Properties.Items[7].ParentContainerStyle.CssClass = "itemToHide";

                        }
                    }
                    else
                    {
                        if (reasons.Count == 0)
                        {
                            //e.Properties.Items[7].ParentContainerStyle.CssClass = "itemToHide";

                        }
                    }

                }
            }
        };

        #endregion

        #region cardview Column defenitions

        settings.Columns.Add(c =>
        {
            c.FieldName = "Entitlement";
            c.Settings.AllowHeaderFilter = DefaultBoolean.False;
            c.Settings.AllowSort = DefaultBoolean.False;
        });
        settings.Columns.Add("StyleID");

        settings.Columns.Add(c =>
        {
            c.FieldName = "SizeId";
            c.Settings.AllowHeaderFilter = DefaultBoolean.False;
            c.Settings.AllowSort = DefaultBoolean.False;
        });
        settings.Columns.Add("Description");
        settings.Columns.Add(c =>
        {
            c.FieldName = "Price";
            c.Settings.AllowHeaderFilter = DefaultBoolean.False;
            c.Settings.AllowSort = DefaultBoolean.False;
        });
        settings.Columns.Add(c =>
        {
            c.FieldName = "StyleImage";
            c.Settings.AllowHeaderFilter = DefaultBoolean.False;
            c.Settings.AllowSort = DefaultBoolean.False;
        });
        settings.Columns.Add(c =>
        {
            c.FieldName = "Dimensions";
            c.Settings.AllowHeaderFilter = DefaultBoolean.False;
            c.Settings.AllowSort = DefaultBoolean.False;
        });
        settings.Columns.Add(c =>
        {
            c.FieldName = "Caption";
            c.Settings.AllowHeaderFilter = DefaultBoolean.False;
            c.Settings.AllowSort = DefaultBoolean.False;
        });
        settings.Columns.Add(c =>
        {
            c.FieldName = "Quantity";
            c.Settings.AllowHeaderFilter = DefaultBoolean.False;
            c.Settings.AllowSort = DefaultBoolean.False;
        });
        settings.Columns.Add(c =>
        {
            c.FieldName = "BasketButton";
            c.Settings.AllowHeaderFilter = DefaultBoolean.False;
            c.Settings.AllowSort = DefaultBoolean.False;
        });
        #endregion

        #region cardviewlayoutproperties defenition
        settings.CardLayoutProperties.ColCount = 1;

        #region styleimage

        var pointsCardtbl = Session["PointsCard"] != null ? (List<Maximus.Data.models.view_totalpointsused>)Session["PointsCard"] : new List<Maximus.Data.models.view_totalpointsused>();
        var pointsStyletbl = Session["PointsStyle"] != null ? (List<Maximus.Data.models.tblaccemp_stylepoints>)Session["PointsStyle"] : new List<Maximus.Data.models.tblaccemp_stylepoints>();
        var pointsUcodetbl = Session["PointsUcode"] != null ? (List<Maximus.Data.models.tblaccemp_ucodepoints>)Session["PointsUcode"] : new List<Maximus.Data.models.tblaccemp_ucodepoints>();
        var pointsAdjustmenttbl = Session["PointsAdjustment"] != null ? (List<Maximus.Data.models.tblaccemp_pointsadjustment>)Session["PointsAdjustment"] : new List<Maximus.Data.models.tblaccemp_pointsadjustment>();

        settings.CardLayoutProperties.Items.Add(i =>
        {
            i.ColumnName = "StyleImage";
            i.ShowCaption = DefaultBoolean.False;
            i.SetTemplateContent(x =>
            {
                var Assembly = Convert.ToInt16(DataBinder.Eval(x.DataItem, "Assembly"));
                var orgstyl = Convert.ToString(DataBinder.Eval(x.DataItem, "OriginalStyleid"));
                string style = DataBinder.Eval(x.DataItem, "StyleID").ToString();
                var styleimg = DataBinder.Eval(x.DataItem, "StyleImage");
                var divImg = "DivImg" + style;
                var content = ""; var contentPts = "";
                string selEMP = Session["SelectedEmp"].ToString();
                string selecetedUcode = Session["SelectedUcode"] != null ? Session["SelectedUcode"].ToString() : "";

                content = content + "<div class='row'>";
                if (style.Contains(','))
                {
                    var stylearr = style.Split(',');
                    content = string.Format(content + "<div class='col-md-3 pull-left'><div id='" + divImg + "'><img src=\"{0}\" height='70%' width='70%' onclick=\"Getimage('{0}','{1}')\" /></div></div>", styleimg, stylearr[0]);
                    ViewContext.Writer.Write(content);
                }
                else
                {
                    content = string.Format(content + "<div class='col-md-3 pull-left'><div id='" + divImg + "'><img src=\"{0}\" height='70%' width='70%' onclick=\"Getimage('{0}','{1}')\" /></div></div>", styleimg, style);
                    ViewContext.Writer.Write(content);
                }


                ViewContext.Writer.Write("<div class='col-md-7'><br/><div class='row'><div class='col-md-12'>");
                if (template.Count > 0)
                {
                    string viewContent = "";
                    if (style.Contains(','))
                    {
                        var styledex = (DataBinder.Eval(x.DataItem, "StyleID")).ToString();
                        var styleArr = style.Split(',');
                        var styleat1 = styleArr[0];
                        //var descritption = string.Format("<div class='row'><div class='col-md-12' style='padding:0px;'><b>Product</b><hr style=\"margin: 0;\"/></br>" + style.ToString().Split('/')[0] + "<span>&nbsp;</span><span>-</span><span class='fonter' id='LbDescription" + styleat1 + "'> {0}</span></div></div>",   home._tblFskStyle.GetAll(s => s.StyleID == styleat1.ToString()).FirstOrDefault().Description != null ?   home._tblFskStyle.GetAll(s => s.StyleID == styleat1.ToString()).FirstOrDefault().Description.ToString() : "");
                        var descritption = string.Format("<div class='row'><div class='col-md-12' style='padding:0px;'><b>Product</b><hr style=\"margin: 0;\"/></br><span>&nbsp;</span><span class='fonter' id='LbDescription" + styleat1 + "'> {0}</span></div></div>", home._tblFskStyle.GetAll(s => s.StyleID == styleat1.ToString()).FirstOrDefault().Description != null ? home._tblFskStyle.GetAll(s => s.StyleID == styleat1.ToString()).FirstOrDefault().Description.ToString() : "");

                        ViewContext.Writer.Write(descritption);
                        ViewContext.Writer.Write("<br/><br/></div>");
                        ViewContext.Writer.Write("<div class='col-md-12'><div class='row'> <b>Fit</b><hr style=\"margin: 0;\"/><br/>");

                        var divContent = "<fieldset class='swatch-picker' name=\"Swatch_Style_FieldSet_" + style + "\">";
                        foreach (string styler in styleArr)
                        {
                            if (Array.IndexOf(styleArr, styler) == 0)
                            {
                                if (styler.Contains('/'))
                                {
                                    divContent = divContent + string.Format("<label class='swatchLabel'><input type='radio' checked id='radio' name=\"Swatch_Style_" + style + "\" value='{1}' onclick=\"GetDrpResulTemplateModelSwatch('{0}','{1}','{3}');\"/><span class='spanner1'><center >{2}</center></span></label>", style, styler, styler.Contains('/') ? styler.Split('/')[1] : styler, orgstyl);
                                }
                                else
                                {
                                    divContent = divContent + string.Format("<label class='swatchLabel'><input type='radio' checked id='radio' name=\"Swatch_Style_" + style + "\" value='{1}' onclick=\"GetDrpResulTemplateModelSwatch('{0}','{1}','{3}');\"/><span class='spanner1'><center >{2}</center></span></label>", style, styler, home._fskSetValues.Exists(ss => ss.StyleID.ToLower() == styler.ToLower() && ss.SettingID == "FITGROUP") ? home._fskSetValues.GetAll(ss => ss.StyleID.ToLower() == styler.ToLower() && ss.SettingID == "FITGROUP").First().Value : styler, orgstyl);
                                }
                            }
                            else
                            {
                                if (styler.Contains('/'))
                                {
                                    divContent = divContent + string.Format("<label class='swatchLabel'><input type='radio'  id='radio' name=\"Swatch_Style_" + style + "\" value='{1}' onclick=\"GetDrpResulTemplateModelSwatch('{0}','{1}','{3}');\"/><span class='spanner1'><center >{2}</center></span></label>", style, styler, styler.Contains('/') ? styler.Split('/')[1] : styler, orgstyl);
                                }
                                else
                                {
                                    divContent = divContent + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"Swatch_Style_" + style + "\" value='{1}' onclick=\"GetDrpResulTemplateModelSwatch('{0}','{1}','{3}');\"/><span class='spanner1'><center >{2}</center></span></label>", style, styler, home._fskSetValues.Exists(ss => ss.StyleID.ToLower() == styler.ToLower() && ss.SettingID == "FITGROUP") ? home._fskSetValues.GetAll(ss => ss.StyleID.ToLower() == styler.ToLower() && ss.SettingID == "FITGROUP").First().Value : styler, orgstyl);
                                }

                            }
                        }


                        divContent = divContent + "</fieldset><br/></div></div>";
                        ViewContext.Writer.Write(divContent);
                    }
                    else
                    {
                        viewContent = string.Format("<div class='row fonter'><div class='col-md-12' style='padding:0px;'><b>Product</b> <span>&nbsp;</span><span id='LbDescription" + orgstyl + "'>{0}</span></div>", home._tblFskStyle.GetAll(s => s.StyleID == orgstyl.ToString()).FirstOrDefault().Description != null | home._tblFskStyle.GetAll(s => s.StyleID == orgstyl.ToString()).FirstOrDefault().Description != "" ? home._tblFskStyle.GetAll(s => s.StyleID == orgstyl.ToString()).FirstOrDefault().Description.ToString() : "");
                        ViewContext.Writer.Write(viewContent);
                    }
                }
                else
                {
                    var orgStyle = (DataBinder.Eval(x.DataItem, "OriginalStyleid")).ToString();
                    var style1 = (DataBinder.Eval(x.DataItem, "StyleID")).ToString();
                    if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                    {
                        if (style1.Contains(','))
                        {
                            var styledex = (DataBinder.Eval(x.DataItem, "StyleID")).ToString();

                            var styleArr = style1.Split(',');
                            var styleat1 = styleArr[0];
                            //var descritption = string.Format("<div class='row'><div class='col-md-12' style='padding:0px;'><b>Product</b><hr style=\"margin: 0;\"/></br>" + style.ToString().Split('/')[0] + "<span>&nbsp;</span><span>-</span><span class='fonter' id='LbDescription" + styleat1 + "'> {0}</span></div></div>",   home._tblFskStyle.GetAll(s => s.StyleID == styleat1.ToString()).FirstOrDefault().Description != null ?   home._tblFskStyle.GetAll(s => s.StyleID == styleat1.ToString()).FirstOrDefault().Description.ToString() : "");
                            var descritption = string.Format("<div class='row'><div class='col-md-12' style='padding:0px;'><b>Product</b><hr style=\"margin: 0;\"/></br><span>&nbsp;</span><span class='fonter' id='LbDescription" + styleat1 + "'> {0}</span></div></div>", home._tblFskStyle.GetAll(s => s.StyleID == styleat1.ToString()).FirstOrDefault().Description != null ? home._tblFskStyle.GetAll(s => s.StyleID == styleat1.ToString()).FirstOrDefault().Description.ToString() : "");

                            ViewContext.Writer.Write(descritption);
                            ViewContext.Writer.Write("<br/><br/></div>");
                            ViewContext.Writer.Write("<div class='col-md-12'><div class='row'> <b>Fit</b><hr style=\"margin: 0;\"/><br/>");

                            var divContent = "<fieldset class='swatch-picker' name=\"Swatch_Style_FieldSet_" + style + "\">";
                            foreach (string styler in styleArr)
                            {
                                if (Array.IndexOf(styleArr, styler) == 0)
                                {
                                    if (styler.Contains('/'))
                                    {
                                        divContent = divContent + string.Format("<label class='swatchLabel'><input type='radio' checked id='radio' name=\"Swatch_Style_" + style + "\" value='{1}' onclick=\"GetDrpResultModelSwatchPrivate('{0}','{1}','{3}');\"/><span class='spanner1'><center >{2}</center></span></label>", style, styler, styler.Contains('/') ? styler.Split('/')[1] : styler, orgstyl);
                                    }
                                    else
                                    {
                                        divContent = divContent + string.Format("<label class='swatchLabel'><input type='radio' checked id='radio' name=\"Swatch_Style_" + style + "\" value='{1}' onclick=\"GetDrpResultModelSwatchPrivate('{0}','{1}','{3}');\"/><span class='spanner1'><center >{2}</center></span></label>", style, styler, home._fskSetValues.Exists(ss => ss.StyleID.ToLower() == styler.ToLower() && ss.SettingID == "FITGROUP") ? home._fskSetValues.GetAll(ss => ss.StyleID.ToLower() == styler.ToLower() && ss.SettingID == "FITGROUP").First().Value : styler, orgstyl);
                                    }
                                }
                                else
                                {
                                    if (styler.Contains('/'))
                                    {
                                        divContent = divContent + string.Format("<label class='swatchLabel'><input type='radio'  id='radio' name=\"Swatch_Style_" + style + "\" value='{1}' onclick=\"GetDrpResultModelSwatchPrivate('{0}','{1}','{3}');\"/><span class='spanner1'><center >{2}</center></span></label>", style, styler, styler.Contains('/') ? styler.Split('/')[1] : styler, orgstyl);
                                    }
                                    else
                                    {
                                        divContent = divContent + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"Swatch_Style_" + style + "\" value='{1}' onclick=\"GetDrpResultModelSwatchPrivate('{0}','{1}','{3}');\"/><span class='spanner1'><center >{2}</center></span></label>", style, styler, home._fskSetValues.Exists(ss => ss.StyleID.ToLower() == styler.ToLower() && ss.SettingID == "FITGROUP") ? home._fskSetValues.GetAll(ss => ss.StyleID.ToLower() == styler.ToLower() && ss.SettingID == "FITGROUP").First().Value : styler, orgstyl);
                                    }

                                }
                            }
                            divContent = divContent + "</fieldset><br/></div></div>";
                            ViewContext.Writer.Write(divContent);
                        }
                        else
                        {
                            string viewContent = string.Format("<div class='row'><div class='col-md-12'><b>Product</b> <hr style=\"margin: 0;\"/></br><span>" + style + "</span> - <span class='fonter' id='LbDescription" + style + "'> {1}</span></div></div>", style1, home._tblFskStyle.GetAll(s => s.StyleID == style.ToString()).FirstOrDefault().Description != null ? home._tblFskStyle.GetAll(s => s.StyleID == style.ToString()).FirstOrDefault().Description.ToString() : "");
                            ViewContext.Writer.Write(viewContent);
                        }
                    }
                    else
                    {
                        if (style1.Contains(','))
                        {
                            Html.DevExpress().ComboBox(
                                    c =>
                                    {
                                        var styleArr = style1.Split(',');
                                        c.Properties.Caption = "Style";
                                        c.Name = "styleDrp_" + style + "_" + orgStyle;
                                        foreach (string data in (string[])styleArr)
                                        {
                                            c.Properties.Items.Add(data);

                                        }
                                        c.SelectedIndex = 0;
                                        c.Properties.ClientSideEvents.SelectedIndexChanged = "GetDrpResultModel";
                                    }
                                                    ).Render();
                        }
                        else
                        {
                            string viewContent = "<div class='row'><div class='col-md-2'><b>Style: &nbsp; &nbsp;</b></div><div class='col-md-4'>" + style + "</div><div class='col-md-2'></div></div>";
                            ViewContext.Writer.Write(viewContent);
                        }
                    }


                }
                if (style.ToString().Contains(','))
                {
                    ViewContext.Writer.Write("</div></div>");
                }
                else
                {
                    ViewContext.Writer.Write("</div></div></div>");
                }


                var content1 = "<div class='col-md-2'><div class='row'>";
                bool value = (bool)(DataBinder.Eval(x.DataItem, "isAllocated"));
                if (Assembly != 0)
                {
                    if (value != true)
                    {
                        if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                        {
                            if (style.ToString().Contains(','))
                            {
                                content1 = content1 + string.Format("<div class='col-md-6 marginer'><center> <img src='/Content/Images/embroidery.png' title='Get Assembly info' height='40' width='30' onclick=\"getAssemblySwatch('{0}');\"/></center></div>", style);
                            }
                            else
                            {
                                content1 = content1 + string.Format("<div class='col-md-6 marginer'><center> <img src='/Content/Images/embroidery.png' title='Get Assembly info' height='40' width='30' onclick=\"getAssembly('{0}');\"/></center></div>", style);
                            }
                        }
                        else
                        {
                            if (style.ToString().Contains(','))
                            {
                                content1 = content1 + string.Format("<div class='col-md-6 marginer'><center><img src='/Content/Images/embroidery.png' title='Get Assembly info' height='40' width='30' onclick=\"getAssembly('{0}');\"/></center></div>", style + "_" + orgstyl);
                            }
                            else
                            {
                                content1 = content1 + string.Format("<div class='col-md-6 marginer'><center><img src='/Content/Images/embroidery.png' title='Get Assembly info' height='40' width='30' onclick=\"getAssembly('{0}');\"/></center></div>", style);
                            }
                        }


                    }
                }
                if (template.Count == 0)
                {
                    if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                    {
                        if (value != true)
                        {
                            if (Convert.ToBoolean(Session["IsBulkOrder1"].ToString()) != true)
                            {
                                content1 = content1 + string.Format("<div class='col-md-6 pull-right' style='margin-top: 14px;'><center><img src='/Content/Images/empHistory.png' style='cursor:pointer;' title='Entitlement and previous history' height='40' width='40' onclick=\"getEntitlementSwatch('{0}','{1}');\"/></center></div>", style, orgstyl);
                            }
                        }
                    }
                    else
                    {
                        if (value != true)
                        {
                            content1 = content1 + string.Format("<div class='col-md-6' style='margin-top: 14px;'><center> <img src='/Content/Images/empHistory.png' title='Entitlement and previous history' height='40' width='40' onclick=\"getEntitlement('{0}','{1}');\"/></center></div>", style, orgstyl);
                        }
                    }
                }
                content1 = content1 + "</div></div>";
                ViewContext.Writer.Write(content1);


                //if (style.ToString().Contains(','))
                //{
                //    ViewContext.Writer.Write("</div></div>");
                //}
                //else
                //{
                //    ViewContext.Writer.Write("</div></div></div>");
                //}


            });
        });
        #endregion

        #region caption
        if (template.Count == 0)
        {
            settings.CardLayoutProperties.Items.Add(x =>
            {
                x.ColumnName = "Caption";
                x.ShowCaption = DefaultBoolean.False;
                x.SetTemplateContent(col =>
                {


                    var style = (DataBinder.Eval(col.DataItem, "StyleID")).ToString();
                    string cap = "";
                    string desc = "";
                    if (style.Contains(","))
                    {
                        var styar = style.Split(',');
                        var sty1 = styar[0];
                        cap = home._dimFitCap.GetAll(s => s.StyleId == sty1).FirstOrDefault() == null ? "" : home._dimFitCap.GetAll(s => s.StyleId == sty1).FirstOrDefault().Caption;
                        desc = home._stylesView.GetAll(s => s.StyleID == sty1).FirstOrDefault() == null ? "" : home._stylesView.GetAll(s => s.StyleID == sty1).FirstOrDefault().Description;
                    }
                    else
                    {
                        cap = home._dimFitCap.GetAll(s => s.StyleId == style).FirstOrDefault() == null ? "" : home._dimFitCap.GetAll(s => s.StyleId == style).FirstOrDefault().Caption;
                        desc = home._stylesView.GetAll(s => s.StyleID == style).FirstOrDefault() == null ? "" : home._stylesView.GetAll(s => s.StyleID == style).FirstOrDefault().Description;
                    }
                    if (cap != null && cap != "")
                    {
                        ViewContext.Writer.Write(string.Format("<center>{0}</center>", cap));
                    }
                    else
                    {
                        ViewContext.Writer.Write(string.Format("<center>{0}</center>", desc));
                    }


                });
            });
        }
        #endregion
        #region color
        var firstColor = "";
        var EmergencyStockColor = "";
        var ucodeColorcnt = 0;
        settings.CardLayoutProperties.Items.Add(x =>
        {
            x.ColumnName = "ColourId";
            x.ShowCaption = DefaultBoolean.False;
            x.SetTemplateContent(col =>
            {
                if (template.Count > 0)
                {
                    var style1 = (DataBinder.Eval(col.DataItem, "StyleID")).ToString();
                    var style = (DataBinder.Eval(col.DataItem, "OriginalStyleid")).ToString();
                    var selTemplates = (List<string>)Session["SelectedTemplates"];
                    var colorLst = home._customerOrderTemplate.GetAll(clr => template.Contains(clr.Template) && clr.Style == style && clr.BusinessID == businessId).Distinct().Select(clr => clr.Colour).Distinct().ToList();
                    List<Maximus.Data.Models.ObsoleteColor> lstC = hc.getColors(style);
                    if (Session["ColorSizestyle"].ToString() != "SWATCHES")
                    {
                        Html.DevExpress().ComboBox(
                        c =>
                        {
                            c.Name = "Color_Template_" + style;
                            foreach (var item in lstC)
                            {
                                if (home._customerOrderTemplate.Exists(t => t.Style == style && selTemplates.Contains(t.Template) && t.Colour == item.ColorId))
                                {
                                    c.Properties.Items.Add(item.ColorId);
                                }
                            }
                            if (c.Properties.Items.Count == 1)
                            {
                                c.SelectedIndex = 0; c.Enabled = true;
                            }
                        }).GetHtml();
                    }
                    else
                    {
                        var content = "<b>Colour<b><hr style='margin: 0;'/><br/>"; content = content + "<fieldset class='swatch-picker' name=\"Swatch_ColorTemplate_FieldSet_" + style1 + "\">";
                        if (lstC != null)
                        {
                            if (colorLst.Count > 1)
                            {

                                foreach (var datItem in colorLst)
                                {
                                    var hexcode = home._fskColor.Exists(da => da.Description.Contains(datItem)) ? home._fskColor.GetAll(da => da.Description.Contains(datItem)).First().Colour_hexcode : "";
                                    if (lstC.Where(xa => xa.ObsoleteCode == 0).Select(xsa => xsa.ColorId).ToList().Contains(datItem))
                                    {
                                        if (datItem.ToLower().Contains("yell") | datItem.ToLower().Contains("whit"))
                                        {
                                            if (home._customerOrderTemplate.Exists(t => t.Style == style && selTemplates.Contains(t.Template) && t.Colour == datItem))
                                            {
                                                content = content + string.Format("<label class='swatchLabel'><input type='radio' id='radio' onchange=\"GetClrImg('{0}-{1}')\" name=\"Swatch_ColorTemplate_" + style1 + "\" value='blue'/><span class='spanner1'><center >{1}</center></span></label>", style, datItem);
                                            }
                                        }
                                        else
                                        {
                                            if (home._customerOrderTemplate.Exists(t => t.Style == style && selTemplates.Contains(t.Template) && t.Colour == datItem))
                                            {
                                                content = content + string.Format("<label class='swatchLabel'><input type='radio' onchange=\"GetClrImg('{0}-{1}')\"  id='radio' name=\"Swatch_ColorTemplate_" + style1 + "\" value='blue'/><span class='spanner1'><center >{1}</center></span></label>", style, datItem);
                                            }
                                        }

                                    }

                                }
                            }
                            else if (colorLst.Count == 1)
                            {
                                if (lstC.Where(xa => xa.ObsoleteCode == 0).Select(xsa => xsa.ColorId).ToList().Contains(colorLst[0]))
                                {
                                    content = content + string.Format("<label class='swatchLabel'><input type='radio' onchange=\"GetClrImg('{0}-{1}')\" checked  id='radio' name=\"Swatch_ColorTemplate_" + style1 + "\" value='blue'/><span class='spanner1'><center >{1}</center></span></label>", style, colorLst[0]);
                                }
                            }
                        }
                        content = content + "</fieldset><br/>";
                        ViewContext.Writer.Write(content);
                    }
                }
                else
                {
                    var style = (DataBinder.Eval(col.DataItem, "StyleID")).ToString();
                    var orgStyle = (DataBinder.Eval(col.DataItem, "OriginalStyleid")).ToString();
                    var ucodeColor = home._ucodes.Exists(uc => uc.UCodeID == selUcode & uc.StyleID == orgStyle) ? home._ucodes.GetAll(uc => uc.UCodeID == selUcode & uc.StyleID == orgStyle).First().ColourID : "";
                    ucodeColorcnt = ucodeColor.Count();
                    if (Session["ColorSizestyle"].ToString() != "SWATCHES")
                    {
                        if (style.Contains(','))
                        {
                            Html.DevExpress().ComboBox(
                                    c =>
                                    {
                                        var styleArr = style.Split(',');
                                        string style1 = styleArr[0].ToString();
                                        c.Name = "Color_" + "Drop_" + style;
                                        List<Maximus.Data.Models.ObsoleteColor> lstC = hc.getColors(style1);
                                        if (lstC != null)
                                        {
                                            foreach (var dr in lstC.Where(dts => dts.ObsoleteCode == 0).ToList())
                                            {
                                                if (Convert.ToInt16(dr.ObsoleteCode.ToString()) == 0)
                                                {
                                                    if (dr.ColorId.ToString().ToUpper().Trim() == ucodeColor.ToUpper().Trim())
                                                    {
                                                        c.Properties.Items.Add(dr.ColorId.ToString());
                                                    }
                                                }
                                            }
                                            if (c.Properties.Items.Count == 1)
                                            { c.SelectedIndex = 0; c.Enabled = true; }
                                            c.Properties.ClientSideEvents.SelectedIndexChanged = "getSelectedColor";
                                        }
                                        else
                                        {
                                            c.Enabled = false;
                                        }
                                        firstColor = c.Properties.Items.Count > 0 ? c.Properties.Items[0].ToString() == "" || c.Properties.Items[0].ToString() == null ? "" : c.Properties.Items[0].ToString() : "";
                                    }
                                                    ).Render();
                        }
                        else
                        {
                            Html.DevExpress().ComboBox(
                                    c =>
                                    {
                                        c.Name = "Color_" + "Drop_" + style;
                                        List<Maximus.Data.Models.ObsoleteColor> lstC = hc.getColors(style);
                                        if (lstC != null)
                                        {
                                            foreach (var dr in lstC.Where(dts => dts.ObsoleteCode == 0).ToList())
                                            {
                                                if (Convert.ToInt16(dr.ObsoleteCode.ToString()) == 0)
                                                {
                                                    if (dr.ColorId.ToString().ToUpper().Trim() == ucodeColor.ToUpper().Trim())
                                                    {
                                                        c.Properties.Items.Add(dr.ColorId.ToString());
                                                    }
                                                }
                                            }
                                            if (c.Properties.Items.Count == 1)
                                            { c.SelectedIndex = 0; c.Enabled = true; }
                                            c.Properties.ClientSideEvents.SelectedIndexChanged = "getSelectedColor";
                                        }
                                        else
                                        {
                                            c.Enabled = false;
                                        }
                                        firstColor = c.Properties.Items.Count > 0 ? c.Properties.Items[0].ToString() == "" || c.Properties.Items[0].ToString() == null ? "" : c.Properties.Items[0].ToString() : "";
                                    }

                                                        ).Render();
                        }
                    }
                    else
                    {
                        if (style.Contains(','))
                        {
                            var ucodeColor1 = home._ucodes.GetAll(uc => uc.UCodeID == selUcode & uc.StyleID == orgStyle).Select(uc => uc.ColourID).ToList();
                            ucodeColorcnt = ucodeColor.Count();
                            var content = "<b>Colour<b><hr style='margin: 0;'/><br/>"; content = content + "<fieldset class='swatch-picker' name=\"Swatch_Color_FieldSet_Private_" + style + "\">";
                            var styleArr = style.Split(',');
                            string style1 = styleArr[0].ToString();
                            List<Maximus.Data.Models.ObsoleteColor> lstC = hc.getColors(style1);
                            if (lstC != null)
                            {
                                if (lstC.Where(dts => dts.ObsoleteCode == 0).Count() > 1)
                                {
                                    foreach (var dr in lstC.Where(s => s.ObsoleteCode == 0).ToList())
                                    {
                                        //if (ucodeColor1.IndexOf(dr) == 0)
                                        //{
                                        firstColor = dr.ColorId.ToString();
                                        //}
                                        if (lstC.Where(dts => dts.ObsoleteCode == 0).Select(xs => xs.ColorId).ToList().Contains(dr.ColorId.ToString()))
                                        {
                                            //if (ucodeColor.ToUpper().Trim() == dr.ColorId.ToString().ToUpper().Trim())
                                            //{
                                            var color = dr.ColorId.ToString();
                                            var hexcode = home._fskColor.Exists(da => da.Description.Contains(color)) ? home._fskColor.GetAll(da => da.Description.Contains(color)).First().Colour_hexcode : "";
                                            if (color.ToLower().Contains("whit") | color.ToLower().Contains("yell"))
                                            {
                                                content = content + string.Format("<label class='swatchLabel'><input type='radio' onchange=\"GetClrImg('{0}-{1}')\"  id='radio' name=\"swatch_Color_" + style + "\" value='blue'/><span class='spanner1'><center >{1}</center></span></label>", style, color);
                                                if (Convert.ToBoolean(Session["IsEmergency"]))
                                                {
                                                    EmergencyStockColor = color;
                                                }

                                            }
                                            else
                                            {
                                                content = content + string.Format("<label class='swatchLabel'><input type='radio'  onchange=\"GetClrImg('{0}-{1}')\"   id='radio' name=\"swatch_Color_" + style + "\" value='blue'/><span class='spanner1'><center >{1}</center></span></label>", style, color);
                                                if (Convert.ToBoolean(Session["IsEmergency"]))
                                                {
                                                    EmergencyStockColor = color;
                                                }

                                            }

                                            //}
                                        }

                                    }
                                }
                                else if (lstC.Count == 1)
                                {
                                    if (lstC.Where(dts => dts.ObsoleteCode == 0).Count() == 1)
                                    {
                                        content = content + string.Format("<label class='swatchLabel'><input type='radio' checked onchange=\"GetClrImg('{0}-{1}')\" id='radio'  name=\"swatch_Color_" + style + "\" value='blue'  /><span class='spanner1'><center >{1}</center></span></label>", style, lstC[0].ColorId);
                                    }
                                    firstColor = lstC[0].ColorId;
                                    if (Convert.ToBoolean(Session["IsEmergency"]))
                                    {
                                        EmergencyStockColor = lstC[0].ColorId;
                                    }

                                }
                                else if (lstC.Where(dts => dts.ObsoleteCode == 0).Count() == 1)
                                {
                                    content = content + string.Format("<label class='swatchLabel'><input type='radio' checked onchange=\"GetClrImg('{0}-{1}')\" id='radio'  name=\"swatch_Color_" + style + "\" value='blue'  /><span class='spanner1'><center >{1}</center></span></label>", style, lstC[0].ColorId);
                                    firstColor = lstC[0].ColorId;
                                    if (Convert.ToBoolean(Session["IsEmergency"]))
                                    {
                                        EmergencyStockColor = lstC[0].ColorId;
                                    }

                                }
                            }
                            content = content + "</fieldset><br/>";
                            ViewContext.Writer.Write(content);
                        }
                        else
                        {
                            var content = "<b>Colour<b><hr style='margin: 0;'/><br/>"; content = content + "<fieldset class='swatch-picker' name=\"Swatch_Color_FieldSet_Private_" + style + "\">";
                            List<Maximus.Data.Models.ObsoleteColor> lstC = hc.getColors(style);
                            var ucodeColor1 = home._ucodes.GetAll(uc => uc.UCodeID == selUcode & uc.StyleID == orgStyle).Select(uc => uc.ColourID).ToList();
                            ucodeColorcnt = ucodeColor1.Count();
                            if (lstC != null)
                            {
                                if (lstC.Where(dts => dts.ObsoleteCode == 0).Count() > 1)
                                {
                                    foreach (var dr in lstC.Where(ss => ss.ObsoleteCode == 0).ToList())
                                    {

                                        if (lstC.Where(dts => dts.ObsoleteCode == 0).Select(xs => xs.ColorId).ToList().Contains(dr.ColorId))
                                        {

                                            var color = dr.ToString();
                                            var hexcode = home._fskColor.Exists(da => da.Description.Contains(color)) ? home._fskColor.GetAll(da => da.Description.Contains(color)).First().Colour_hexcode : "";
                                            if (dr.ToString().ToLower().Contains("yell") | dr.ToString().ToLower().Contains("whit"))
                                            {
                                                content = content + string.Format("<label class='swatchLabel'><input type='radio' onchange=\"GetClrImg('{0}-{1}')\" id='radio' style='color:red'  name=\"swatch_Color_" + style + "\" value='blue'  /><span class='spanner1'><center >{1}</center></span></label>", style, dr.ToString());
                                                if (Convert.ToBoolean(Session["IsEmergency"]))
                                                {
                                                    EmergencyStockColor = dr.ToString();
                                                }

                                            }
                                            else
                                            {
                                                content = content + string.Format("<label class='swatchLabel'><input type='radio' onchange=\"GetClrImg('{0}-{1}')\" id='radio'  name=\"swatch_Color_" + style + "\" value='blue'  /><span class='spanner1'><center >{1}</center></span></label>", style, dr.ToString());
                                                if (Convert.ToBoolean(Session["IsEmergency"]))
                                                {
                                                    EmergencyStockColor = dr.ToString();
                                                }


                                            }

                                            firstColor = dr.ColorId.ToString();

                                        }
                                    }
                                }
                                else if (lstC.Count == 1)
                                {
                                    if (lstC.Where(dts => dts.ObsoleteCode == 0).ToList().Count() == 1)
                                    {
                                        content = content + string.Format("<label class='swatchLabel'><input type='radio' checked onchange=\"GetClrImg('{0}-{1}')\" id='radio'  name=\"swatch_Color_" + style + "\" value='blue'  /><span class='spanner1'><center >{1}</center></span></label>", style, lstC[0].ColorId);
                                        if (Convert.ToBoolean(Session["IsEmergency"]))
                                        {
                                            EmergencyStockColor = lstC[0].ColorId;

                                        }

                                    }
                                    firstColor = lstC[0].ColorId;
                                }
                                else if (lstC.Where(dts => dts.ObsoleteCode == 0).Count() == 1)
                                {
                                    content = content + string.Format("<label class='swatchLabel'><input type='radio' checked onchange=\"GetClrImg('{0}-{1}')\" id='radio'  name=\"swatch_Color_" + style + "\" value='blue'  /><span class='spanner1'><center >{1}</center></span></label>", style, lstC[0].ColorId);
                                    if (Convert.ToBoolean(Session["IsEmergency"]))
                                    {
                                        EmergencyStockColor = lstC[0].ColorId;
                                    }

                                    firstColor = lstC[0].ColorId;
                                }

                            }


                            content = content + "</fieldset><br/>";
                            ViewContext.Writer.Write(content);
                        }
                    }
                }
            });

        });



        #endregion
        Maximus.Data.Models.DataProcessing dp = new Maximus.Data.Models.DataProcessing(_unitOfWork);
        #region size
        settings.CardLayoutProperties.Items.Add(x =>
        {
            x.ColumnName = "SizeId";
            x.ShowCaption = DefaultBoolean.False;
            x.SetTemplateContent(col =>
            {
                var reqDta = DataBinder.Eval(col.DataItem, "ReqData") != null ? (DataBinder.Eval(col.DataItem, "ReqData")).ToString() : "";
                if (template.Count > 0)
                {
                    var style = (DataBinder.Eval(col.DataItem, "OriginalStyleid")).ToString();
                    var style1 = (DataBinder.Eval(col.DataItem, "StyleId")).ToString();
                    var sizStyl = style1.Contains(",") ? style1.Split(',')[0] : style1;
                    var sizeLst = home._customerOrderTemplate.GetAll(siz => template.Contains(siz.Template) && siz.BusinessID == businessId && siz.Style == sizStyl).Select(siz => siz.SizeiD).Distinct().ToList();
                    if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                    {
                        var content = "<b>Sizes</b><hr style='margin: 0;'/><br/>";
                        content = content + "<fieldset class='swatch-picker' name=\"Swatch_Size_FieldSet_Private_" + style1 + "\"><div class='row'><div class='col-md-10'><div class='row'>";

                        if (sizeLst != null)
                        {
                            if ((bool)Session["IsBulkOrder1"] == true)
                            {
                                if (sizeLst.Count > 2)
                                {
                                    if (reqDta == "")
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div>  <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><br /><hr />";
                                        }
                                    }
                                    else
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div>  <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div> <br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div> <br /><hr />";
                                        }
                                    }
                                }
                                else if (sizeLst.Count == 2)
                                {
                                    if (reqDta == "")
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-6' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div> <div class='col-md-6'><center>.</center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";
                                        }
                                    }
                                    else
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div> <div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center></div></div></div><br /><hr />";
                                        }
                                    }
                                }
                                else if (sizeLst.Count == 2)
                                {
                                    if (reqDta == "")
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div><div class='col-md-6'><center>.</center> </div><div class='col-md-6'><center>. </center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div><div class='col-md-6'><center>.</center> </div><div class='col-md-6'><center>.</center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>. </center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";

                                        }
                                    }
                                    else
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div>  <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'> <div class='col-md-4'><center>. </center> </div><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'> <div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>. </center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>. </center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>. </center></div><div class='col-md-3'><center>.</center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>. </center></div></div></div><br /><hr />";
                                        }

                                    }
                                }
                                foreach (var data in sizeLst)
                                {
                                    var orgStyle = (DataBinder.Eval(col.DataItem, "OriginalStyleid")).ToString();
                                    if (reqDta == "")
                                    {
                                        if (Session["Price"].ToString().ToLower() == "hide")
                                        {
                                            content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "'  style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-6'><center>" + data + "</center></div><div class='col-md-6'><center><input type =\"number\" placeholder='Quantity' id='" + style1 + "_" + data + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                        }
                                        else if (Session["Price"].ToString().ToLower() == "readonly")
                                        {
                                            content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "'  style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + data + "</center></div><div class='col-md-4'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, data, Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style1 + "_" + data + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                        }
                                        else if (Session["Price"].ToString().ToLower() == "readwrite")
                                        {
                                            content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "'  style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + data + "</center></div><div class='col-md-5'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_template_Price" + style + "' value='" + dp.GetPrice(style, data, Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style1 + "_" + data + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                        }

                                    }
                                    else
                                    {
                                        if (Session["Price"].ToString().ToLower() == "hide")
                                        {
                                            if (style.Contains(","))
                                            {
                                                if (style.Split(',')[0] == orgStyle)
                                                {
                                                    content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + data + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style1 + "_" + data + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input type =\"text\" id='ReqData_" + style + "_" + data + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                }
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + data + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style1 + "_" + data + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input type =\"text\" id='ReqData_" + style + "_" + data + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                            }

                                        }
                                        else if (Session["Price"].ToString().ToLower() == "readonly")
                                        {
                                            if (style.Contains(","))
                                            {
                                                if (style.Split(',')[0] == orgStyle)
                                                {
                                                    content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + data + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, data, Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style1 + "_" + data + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" id='ReqData_" + style + "_" + data + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                }
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + data + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, data, Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style1 + "_" + data + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" id='ReqData_" + style + "_" + data + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                            }

                                        }
                                        else if (Session["Price"].ToString().ToLower() == "readwrite")
                                        {
                                            if (style.Contains(","))
                                            {
                                                if (style.Split(',')[0] == orgStyle)
                                                {
                                                    content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + data + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_template_Price" + style + "' value='" + dp.GetPrice(style, data, Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style1 + "_" + data + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" id='ReqData_" + style + "_" + data + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                }
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4 BulkOrder1_template_" + style1 + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + data + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_template_Price" + style + "' value='" + dp.GetPrice(style, data, Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style1 + "_" + data + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" id='ReqData_" + style + "_" + data + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                            }

                                        }

                                    }


                                }
                            }
                            else if ((bool)Session["IsBulkOrder"] == true)
                            {
                                foreach (var dataItem in sizeLst)
                                {
                                    if (sizeLst.Count > 1)
                                    {
                                        content = content + string.Format("<label class='swatchLabel'><input type='radio'    id='radio' name=\"swatchTemplate_Size_" + style1 + "\" value='blue' /><span class='spanner1'  onclick=\"getSelectedSizeTemplateSwatch('{0}','{1}')\"><center >{1}</center></span></label>", style1, dataItem);
                                    }
                                    else
                                    {
                                        content = content + string.Format("<label class='swatchLabel'><input type='radio'  id='radio' name=\"swatchTemplate_Size_" + style1 + "\" value='blue'   checked /><span class='spanner1'  onclick=\"getSelectedSizeTemplateSwatch('{0}','{1}')\"><center >{1}</center></span></label>", style1, dataItem);
                                    }
                                }
                            }
                            else
                            {
                                foreach (var dataItem in sizeLst)
                                {
                                    if (sizeLst.Count > 1)
                                    {
                                        content = content + string.Format("<label class='swatchLabel'><input type='radio'    id='radio' name=\"swatchTemplate_Size_" + style1 + "\" value='blue' /><span class='spanner1'  onclick=\"getSelectedSizeTemplateSwatch('{0}','{1}')\"><center >{1}</center></span></label>", style1, dataItem);
                                    }
                                    else
                                    {
                                        content = content + string.Format("<label class='swatchLabel'><input type='radio'  id='radio' name=\"swatchTemplate_Size_" + style1 + "\" value='blue'   checked /><span class='spanner1'  onclick=\"getSelectedSizeTemplateSwatch('{0}','{1}')\"><center >{1}</center></span></label>", style1, dataItem);
                                    }
                                }
                            }

                        }
                        content = content + "</div></div><div class='col-md-2'></div></div></fieldset><br/>";
                        ViewContext.Writer.Write(content);

                    }
                    else
                    {
                        Html.DevExpress().ComboBox(c =>
                        {
                            c.Name = "Size_Template_" + style;
                            c.Properties.ClientSideEvents.SelectedIndexChanged = "getSelectedTemplateSize";
                            foreach (var items in sizeLst)
                            {
                                c.Properties.Items.Add(items);
                            }
                            if (c.Properties.Items.Count == 1)
                            {
                                c.SelectedIndex = 0; c.Enabled = true;
                            }
                        }).GetHtml();
                    }

                }
                else
                {
                    string freeStockCnt = "";

                    var orgStyle = (DataBinder.Eval(col.DataItem, "OriginalStyleid")).ToString();
                    var style = (DataBinder.Eval(col.DataItem, "StyleID")).ToString();
                    Maximus.Data.Models.PreviousQty prevHistory = (Maximus.Data.Models.PreviousQty)(DataBinder.Eval(col.DataItem, "HasPreviousSize"));
                    var styleArr = style.Split(',');
                    string style1 = styleArr[0].ToString();
                    //  c.Name = "Size_" + "Drop_" + style;
                    System.Data.DataTable lstC = firstColor == "" ? hc.getSizes(style1) : hc.getColorSizes(style1);
                    if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                    {
                        if (style.Contains(','))
                        {
                            var content = "";
                            content = content + "<b>Sizes</b><hr style='margin: 0;'/><br/>";
                            content = content + "<fieldset class='swatch-picker' name=\"Swatch_Size_FieldSet_Private_" + style + "\"> <div class='row'><div class='col-md-10'><div class='row'>";
                            if ((bool)Session["IsBulkOrder1"] == true)
                            {
                                if (lstC.Rows.Count > 2)
                                {
                                    if (reqDta == "")
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div>  <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><br /><hr />";
                                        }
                                    }
                                    else
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div>  <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div> <br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div> <br /><hr />";
                                        }
                                    }
                                }
                                else if (lstC.Rows.Count == 2)
                                {
                                    if (reqDta == "")
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-6' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div> <div class='col-md-6'><center>.</center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";
                                        }
                                    }
                                    else
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div> <div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center></div></div></div><br /><hr />";
                                        }
                                    }
                                }
                                else if (lstC.Rows.Count == 1)
                                {
                                    if (reqDta == "")
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div><div class='col-md-6'><center>.</center> </div><div class='col-md-6'><center>. </center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div><div class='col-md-6'><center>.</center> </div><div class='col-md-6'><center>.</center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>. </center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";

                                        }
                                    }
                                    else
                                    {
                                        if (Session["Price"].ToString() == "hide")
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div>  <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'> <div class='col-md-4'><center>. </center> </div><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'> <div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>. </center></div></div></div><br /><hr />";
                                        }
                                        else
                                        {
                                            content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>. </center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>. </center></div><div class='col-md-3'><center>.</center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>. </center></div></div></div><br /><hr />";
                                        }

                                    }
                                }

                            }
                            if (lstC != null)
                            {

                                foreach (System.Data.DataRow dr in lstC.Rows)
                                {
                                    if (lstC.Rows.Count > 1)
                                    {
                                        if ((bool)Session["IsManPack"] == false && (bool)Session["IsBulkOrder1"] == false)
                                        {

                                            if (lstC.Columns.Count > 3)
                                            {
                                                if (dr.ItemArray[1].ToString().ToUpper().Trim() == firstColor.ToUpper().Trim())
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {
                                                        if (reqDta == "")
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                        else
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (reqDta == "")
                                                    {
                                                        content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                    }
                                                    else
                                                    {
                                                        content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                    }

                                                }
                                            }
                                        }
                                        else if ((bool)Session["IsBulkOrder1"] == true)
                                        {

                                            if (lstC.Columns.Count > 3)
                                            {
                                                if (dr.ItemArray[1].ToString().ToUpper().Trim() == firstColor.ToUpper().Trim())
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {
                                                        if (reqDta == "")
                                                        {
                                                            if (Session["Price"].ToString().ToLower() == "hide")
                                                            {
                                                                content = content + "<div class='col-md-4 BulkOrder1_" + style + "'  style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-6'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-6'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }
                                                            else if (Session["Price"].ToString().ToLower() == "readonly")
                                                            {
                                                                content = content + "<div class='col-md-4 BulkOrder1_" + style + "'  style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }
                                                            else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                            {
                                                                content = content + "<div class='col-md-4 BulkOrder1_" + style + "'  style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-5'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }

                                                        }
                                                        else
                                                        {
                                                            if (Session["Price"].ToString().ToLower() == "hide")
                                                            {
                                                                if (style.Contains(","))
                                                                {
                                                                    if (style.Split(',')[0] == orgStyle)
                                                                    {
                                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input type =\"text\" id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input type =\"text\" id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                                }

                                                            }
                                                            else if (Session["Price"].ToString().ToLower() == "readonly")
                                                            {
                                                                if (style.Contains(","))
                                                                {
                                                                    if (style.Split(',')[0] == orgStyle)
                                                                    {
                                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";

                                                                }

                                                            }
                                                            else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                            {
                                                                if (style.Contains(","))
                                                                {
                                                                    if (style.Split(',')[0] == orgStyle)
                                                                    {
                                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                                }

                                                            }

                                                        }
                                                        //content = content + string.Format("<div  class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\"  onblur=\"GetBulkPrice('{0}','{1}','{2}')\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div  style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (reqDta == "")
                                                    {
                                                        if (Session["Price"].ToString().ToLower() == "hide")
                                                        {
                                                            content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-6'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-6'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                        }
                                                        else if (Session["Price"].ToString().ToLower() == "readonly")
                                                        {
                                                            content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                        }
                                                        else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                        {
                                                            content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-5'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                        }
                                                    }
                                                    else
                                                    {
                                                        if (Session["Price"].ToString().ToLower() == "hide")
                                                        {
                                                            if (style.Contains(","))
                                                            {
                                                                if (style.Split(',')[0] == orgStyle)
                                                                {
                                                                    content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input type =\"text\" placeholder='" + reqDta + "'  id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                                }
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input type =\"text\" placeholder='" + reqDta + "'  id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }

                                                        }
                                                        else if (Session["Price"].ToString().ToLower() == "readonly")
                                                        {
                                                            if (style.Contains(","))
                                                            {
                                                                if (style.Split(',')[0] == orgStyle)
                                                                {
                                                                    content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" placeholder='" + reqDta + "'  id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                                }
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" placeholder='" + reqDta + "'  id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }

                                                        }
                                                        else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                        {
                                                            if (style.Contains(","))
                                                            {
                                                                if (style.Split(',')[0] == orgStyle)
                                                                {
                                                                    content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" placeholder='" + reqDta + "'  id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                                }
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-4' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" placeholder='" + reqDta + "'  id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }

                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        else
                                        {
                                            if (lstC.Columns.Count > 3)
                                            {
                                                var sss1 = Convert.ToBoolean(Session["REQSTKLEVEL"]);
                                                if (dr.ItemArray[1].ToString().ToUpper().Trim() == firstColor.ToUpper().Trim())
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {

                                                        if (prevHistory.Size.Trim() == dr.ItemArray[3].ToString().Trim())
                                                        {

                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";

                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                            }

                                                        }
                                                        else
                                                        {
                                                            if (ucodeColorcnt > 1)
                                                            {
                                                                freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                                if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }


                                                            }
                                                            else
                                                            {
                                                                freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                                if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }


                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (prevHistory.Size.Trim() == dr.ItemArray[3].ToString().Trim())
                                                    {
                                                        freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                        if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }


                                                    }
                                                    else
                                                    {
                                                        if (ucodeColorcnt > 1)
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }
                                                        else
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    else
                                    {
                                        if ((bool)Session["IsManPack"] == false && (bool)Session["IsBulkOrder1"] == false)
                                        {
                                            if (lstC.Columns.Count > 3)
                                            {
                                                if (dr.ItemArray[1].ToString().ToUpper().Trim() == firstColor.ToUpper().Trim())
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {
                                                        if (reqDta == "")
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                        else
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (reqDta == "")
                                                    {

                                                        content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                    }
                                                    else
                                                    {

                                                        content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                    }
                                                }
                                            }
                                        }
                                        else if ((bool)Session["IsBulkOrder1"] == true)
                                        {
                                            if (dr.ItemArray[1].ToString().ToUpper().Trim() == firstColor.ToUpper().Trim())
                                            {
                                                if (reqDta == "")
                                                {
                                                    if (Session["Price"].ToString().ToLower() == "hide")
                                                    {
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-6'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-6'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readonly")
                                                    {
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                    {
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-5'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }

                                                }
                                                else
                                                {
                                                    if (Session["Price"].ToString().ToLower() == "hide")
                                                    {

                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input type =\"text\" placeholder='" + reqDta + "'   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readonly")
                                                    {

                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" placeholder='" + reqDta + "'   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                    {

                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity'  min=\"0\" id='" + style + "_" + dr.ItemArray[3].ToString() + "'   class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\" placeholder='" + reqDta + "'   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }

                                                }
                                            }

                                        }
                                        else
                                        {
                                            if (lstC.Columns.Count > 3)
                                            {
                                                if (dr.ItemArray[1].ToString().ToUpper().Trim() == firstColor.ToUpper().Trim())
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {
                                                        if (prevHistory.Size.Trim() == dr.ItemArray[3].ToString().Trim())
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }
                                                        else
                                                        {
                                                            if (ucodeColorcnt > 1)
                                                            {
                                                                freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                                if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }


                                                            }
                                                            else
                                                            {
                                                                freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                                if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }


                                                            }

                                                        }

                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (prevHistory.Size.Trim() == dr.ItemArray[3].ToString().Trim())
                                                    {
                                                        freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                        if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }


                                                    }
                                                    else
                                                    {
                                                        if (ucodeColorcnt > 1)
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }
                                                        else
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'  checked id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style1, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'  checked id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }

                                                    }

                                                }
                                            }
                                        }
                                    }

                                }
                            }

                            content = content + "</div></div><div class='col-md-2'></div></div></fieldset><br/>";
                            ViewContext.Writer.Write(content);
                        }
                        else
                        {
                            if (lstC != null)
                            {
                                var content = "<b>Sizes</b><hr style='margin: 0;'/><br/>";
                                content = content + "<fieldset class='swatch-picker' name=\"Swatch_Size_FieldSet_Private_" + style + "\">  <div class='row'><div class='col-md-10'><div class='row'>";
                                if ((bool)Session["IsBulkOrder1"] == true)
                                {
                                    if (lstC.Rows.Count > 2)
                                    {
                                        if (reqDta == "")
                                        {
                                            if (Session["Price"].ToString() == "hide")
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div><div class='col-md-6'><center>.</center> </div><div class='col-md-6'><center>. </center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div><div class='col-md-6'><center>.</center> </div><div class='col-md-6'><center>.</center></div></div></div><br /><hr />";
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><br /><hr />";
                                            }
                                        }
                                        else
                                        {
                                            if (Session["Price"].ToString() == "hide")
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div>  <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div> <br /><hr />";
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div> <br /><hr />";
                                            }
                                        }
                                    }
                                    else if (lstC.Rows.Count == 2)
                                    {
                                        if (reqDta == "")
                                        {
                                            if (Session["Price"].ToString() == "hide")
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-6' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div> <div class='col-md-6'><center>.</center></div></div></div><br /><hr />";
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center> </div><div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";
                                            }
                                        }
                                        else
                                        {
                                            if (Session["Price"].ToString() == "hide")
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div> <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div> <div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center> </div><div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center></div></div></div><br /><hr />";
                                            }
                                        }
                                    }
                                    else if (lstC.Rows.Count == 1)
                                    {
                                        if (reqDta == "")
                                        {
                                            if (Session["Price"].ToString() == "hide")
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>Size</center></div> <div class='col-md-6'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div><div class='col-md-6'><center>.</center> </div><div class='col-md-6'><center>. </center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-6'><center>.</center></div><div class='col-md-6'><center>.</center> </div><div class='col-md-6'><center>.</center></div></div></div><br /><hr />";
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div><div class='col-md-4'><center>Price</center></div> <div class='col-md-4'><center>Quantity</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>. </center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div></div></div><br /><hr />";

                                            }

                                        }
                                        else
                                        {
                                            if (Session["Price"].ToString() == "hide")
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-4'><center>Size</center></div>  <div class='col-md-4'><center>Quantity</center></div><div class='col-md-4'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'> <div class='col-md-4'><center>. </center> </div><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>.</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'> <div class='col-md-4'><center>.</center> </div><div class='col-md-4'><center>.</center></div><div class='col-md-4'><center>. </center></div></div></div><br /><hr />";
                                            }
                                            else
                                            {
                                                content = content + "<div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>Size</center></div><div class='col-md-3'><center>Price</center></div> <div class='col-md-3'><center>Quantity</center></div><div class='col-md-3'><center>ReqData</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>. </center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>.</center></div></div></div><div class='col-md-4' style='margin-bottom:15px;'><div class='row'><div class='col-md-3'><center>. </center></div><div class='col-md-3'><center>.</center> </div><div class='col-md-3'><center>.</center></div><div class='col-md-3'><center>. </center></div></div></div><br /><hr />";
                                            }

                                        }
                                    }

                                }
                                foreach (System.Data.DataRow dr in lstC.Rows)
                                {
                                    if (lstC.Rows.Count > 1)
                                    {
                                        if ((bool)Session["IsManPack"] == false && (bool)Session["IsBulkOrder1"] == false)
                                        {
                                            if (lstC.Columns.Count > 3)
                                            {
                                                if (dr.ItemArray[1].ToString() == firstColor)
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {
                                                        if (prevHistory.Size.Trim() == dr.ItemArray[3].ToString())
                                                        {
                                                            if (reqDta == "")
                                                            {
                                                                content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                            }
                                                            else
                                                            {
                                                                content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                            }

                                                        }
                                                        else
                                                        {
                                                            if (reqDta == "")
                                                            {
                                                                content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                            }
                                                            else
                                                            {

                                                                content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (prevHistory.Size.Trim() == dr.ItemArray[2].ToString())
                                                    {
                                                        if (reqDta == "")
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                        else
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                    }
                                                    else
                                                    {
                                                        if (reqDta == "")
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                        else
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        else if ((bool)Session["IsBulkOrder1"] == true)
                                        {
                                            if (dr.ItemArray[1].ToString() == firstColor)
                                            {
                                                if (reqDta == "")
                                                {
                                                    if (Session["Price"].ToString().ToLower() == "hide")
                                                    {
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-6'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-6'><center><input type =\"number\"  id='" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readonly")
                                                    {
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-4'><center><input type =\"number\"  id='" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";

                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                    {
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-5'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-4'><center><input type =\"number\"  id='" + style + "_" + dr.ItemArray[3].ToString() + "' placeholder='Quantity'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }

                                                }
                                                else
                                                {

                                                    if (Session["Price"].ToString().ToLower() == "hide")
                                                    {
                                                        if (style.Contains(","))
                                                        {
                                                            if (style.Split(',')[0] == orgStyle)
                                                            {
                                                            }
                                                        }
                                                        else
                                                        {

                                                        }
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input type =\"text\"   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readonly")
                                                    {
                                                        if (style.Contains(","))
                                                        {
                                                            if (style.Split(',')[0] == orgStyle)
                                                            {
                                                                content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\"   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\"   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                        }


                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                    {
                                                        if (style.Contains(","))
                                                        {
                                                            if (style.Split(',')[0] == orgStyle)
                                                            {
                                                                content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\"   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input type =\"text\"   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'   placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                        }

                                                    }

                                                }
                                            }
                                        }
                                        else
                                        {
                                            if (lstC.Columns.Count > 3)
                                            {
                                                if (dr.ItemArray[1].ToString() == firstColor)
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {
                                                        if (prevHistory.Size.Trim() == dr.ItemArray[3].ToString())
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }
                                                        else
                                                        {
                                                            var clrs = lstC.Rows.OfType<System.Data.DataRow>().Select(dr1 => dr1["col"].ToString()).Distinct().ToList();
                                                            var sizelste = lstC.Rows.OfType<System.Data.DataRow>().Select(dr1 => dr1["SizeId"].ToString()).Distinct().ToList();
                                                            if (ucodeColorcnt > 1)
                                                            {
                                                                freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                                if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[3].ToString(), businessId, "") + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }


                                                            }
                                                            else
                                                            {
                                                                if (sizelste.Count > 1)
                                                                {
                                                                    freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                                    if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                    {
                                                                        content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                    }
                                                                    else
                                                                    {
                                                                        content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                    }


                                                                }
                                                                else
                                                                {
                                                                    freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                                    if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                    {
                                                                        content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + "</span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                    }
                                                                    else
                                                                    {
                                                                        content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + "</span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                    }


                                                                }
                                                            }

                                                        }
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (prevHistory.Size.Trim() == dr.ItemArray[2].ToString())
                                                    {
                                                        freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                        if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }


                                                    }
                                                    else
                                                    {
                                                        freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                        if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }



                                                    }
                                                }
                                            }
                                        }

                                    }
                                    else
                                    {
                                        if ((bool)Session["IsManPack"] == false && (bool)Session["IsBulkOrder1"] == false)
                                        {
                                            if (lstC.Columns.Count > 3)
                                            {
                                                if (dr.ItemArray[1].ToString() == firstColor)
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {
                                                        if (reqDta == "")
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                        else
                                                        {
                                                            content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                        }
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (reqDta == "")
                                                    {
                                                        content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\"   type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                    }
                                                    else
                                                    {
                                                        content = content + string.Format("<div class='col-md-1'></br><center><p>{0}</p><input  id=\"BulkSizeBox_{0}_{1}\" onfocus=\"GetQtyData()\" onblur=\"GetFreeData()\" type =\"number\"  min=\"0\"  class=\"BulkSizeBox_{0}_{1} form-control\" style=\"width:100%; text-align: center; \"/><div   style=\"margin-top:10px;margin-bottom:10px;\"><p><span id='LbPrice_" + style + "_" + dr.ItemArray[3].ToString() + "'>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</span></p></div></center></br></div> ", dr.ItemArray[3].ToString(), style, orgStyle);
                                                    }
                                                }
                                            }
                                        }
                                        else if ((bool)Session["IsBulkOrder1"] == true)
                                        {
                                            if (dr.ItemArray[1].ToString() == firstColor)
                                            {
                                                if (reqDta == "")
                                                {
                                                    if (Session["Price"].ToString().ToLower() == "hide")
                                                    {
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-6'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-6'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readonly")
                                                    {

                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                    {
                                                        content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-5'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'   min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                    }
                                                }
                                                else
                                                {
                                                    if (Session["Price"].ToString().ToLower() == "hide")
                                                    {
                                                        if (style.Contains(","))
                                                        {
                                                            if (style.Split(',')[0] == orgStyle)
                                                            {
                                                                content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  type =\"text\" placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-4'><center>" + dr.ItemArray[3].ToString() + "</center></div> <div class='col-md-4'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-4'><center><input   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  type =\"text\" placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                        }

                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readonly")
                                                    {
                                                        if (style.Contains(","))
                                                        {
                                                            if (style.Split(',')[0] == orgStyle)
                                                            {
                                                                content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  type =\"text\" placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-3'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-3'><center>" + Session["CurrencySymbol"].ToString() + " " + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "</center></div><div class='col-md-3'><center><input type =\"number\" placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  type =\"text\" placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";

                                                        }

                                                    }
                                                    else if (Session["Price"].ToString().ToLower() == "readwrite")
                                                    {
                                                        if (style.Contains(","))
                                                        {
                                                            if (style.Split(',')[0] == orgStyle)
                                                            {
                                                                content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" style='text-align:right;' placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  type =\"text\" placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                            }
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-4 BulkOrder1_" + style + "' style=\"margin-bottom:10px;border: solid 1px;padding: 15px;\"><div class='row'><div class='col-md-2'><center>" + dr.ItemArray[3].ToString() + "</center></div><div class='col-md-4'><div class='row'><div class='col-md-3' style='padding:0px;'><center>" + Session["CurrencySymbol"].ToString() + "</center></div><div class='col-md-9' style='padding:0px;'><center><input type='number' style='text-align:right' class='form-control' id='BulkOrder1_Price" + style + "' value='" + dp.GetPrice(style, dr.ItemArray[3].ToString(), Session["BuisnessId"].ToString()) + "' onchange=\"GetPriceValue('BulkOrder1_Price" + style + "')\"/></center></div></div></div><div class='col-md-3'><center><input type =\"number\" style='text-align:right;' placeholder='Quantity' id='" + style + "_" + dr.ItemArray[3].ToString() + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div><div class='col-md-3'><center><input   id='ReqData_" + style + "_" + dr.ItemArray[3].ToString() + "'  type =\"text\" placeholder='" + reqDta + "'  min=\"0\"  class=\"form-control\" style=\"width:100%; text-align: center; \"/></center></div></div></div>";
                                                        }

                                                    }


                                                }
                                            }
                                        }
                                        else
                                        {
                                            if (lstC.Columns.Count > 3)
                                            {
                                                if (dr.ItemArray[1].ToString() == firstColor)
                                                {
                                                    if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                    {
                                                        if (prevHistory.Size.Trim() == dr.ItemArray[3].ToString().Trim())
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }
                                                        else
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (ucodeColorcnt > 1)
                                                            {
                                                                if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }


                                                            }
                                                            else
                                                            {
                                                                freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                                if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }
                                                                else
                                                                {
                                                                    content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[3].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>   </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[3].ToString(), orgStyle) + "</center></div>";
                                                                }


                                                            }

                                                        }

                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                {
                                                    if (prevHistory.Size.Trim() == dr.ItemArray[3].ToString().Trim())
                                                    {
                                                        freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                        if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }
                                                        else
                                                        {
                                                            content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> </center><center>" + string.Format("<label class='swatchLabel'><input type='radio' checked  id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                        }


                                                    }
                                                    else
                                                    {
                                                        freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                        if (ucodeColorcnt > 1)
                                                        {
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b>  </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }
                                                        else
                                                        {
                                                            freeStockCnt = Convert.ToBoolean(Session["REQSTKLEVEL"]) ? "<center class='ovrdispsize'><span>Freestock:</span>   <b><span  id='FreeStcoker_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Free stock'>" + 2 + "</span></b></center>" : "";
                                                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPriceWithVat(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> <span class='incv'>(inc. VAT)</span></center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }
                                                            else
                                                            {
                                                                content = content + "<div class='col-md-2 frestkpad'>"+freeStockCnt+"<center class='ovrdispsize'><span>Price:</span>   <b><span id='PrivatePrice_" + style + "_" + dr.ItemArray[3].ToString() + "' title='Price'>" + dp.GetPrice(style, dr.ItemArray[2].ToString(), businessId, Session["PrivatePriceid"].ToString(), Convert.ToBoolean(Session["PRIVATEORDER"])) + " </span> </b> </center><center>" + string.Format("<label class='swatchLabel'><input type='radio'   id='radio' name=\"swatch_Size_" + style + "\" value='blue' /><span class='spanner1' onclick=\"getSelectedSizeSwatchPrivate('{0}','{1}','{2}')\"><center >{1}</center></span></label>", style, dr.ItemArray[2].ToString(), orgStyle) + "</center></div>";
                                                            }


                                                        }

                                                    }

                                                }
                                            }
                                        }

                                    }

                                }
                                content = content + "</div></div><div class='col-md-2'></div> </div></fieldset><br/>";
                                ViewContext.Writer.Write(content);
                            }
                        }
                    }
                    else
                    {
                        if (style.Contains(','))
                        {
                            Html.DevExpress().ComboBox(
                                            c =>
                                            {
                                                c.Name = "Size_" + "Drop_" + style + "_" + orgStyle;
                                                if (lstC != null)
                                                {
                                                    foreach (System.Data.DataRow dr in lstC.Rows)
                                                    {
                                                        if (lstC.Columns.Count > 3)
                                                        {
                                                            if (dr.ItemArray[1].ToString() == firstColor)
                                                            {
                                                                if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                                {
                                                                    c.Properties.Items.Add(dr.ItemArray[3].ToString());
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                            {
                                                                c.Properties.Items.Add(dr.ItemArray[1].ToString());
                                                            }
                                                        }

                                                    }
                                                    if (c.Properties.Items.Count == 1)
                                                    {
                                                        c.SelectedIndex = 0; c.Enabled = false;
                                                    }
                                                    c.Properties.ClientSideEvents.SelectedIndexChanged = "getSelectedSize";
                                                }
                                                else
                                                {
                                                    c.Enabled = false;
                                                }
                                            }
                                                            ).Render();
                        }
                        else
                        {
                            Html.DevExpress().ComboBox(
                                            c =>
                                            {
                                                c.Name = "Size_" + "Drop_" + style + "_" + orgStyle;
                                                if (lstC != null)
                                                {
                                                    foreach (System.Data.DataRow dr in lstC.Rows)
                                                    {
                                                        if (lstC.Columns.Count > 3)
                                                        {
                                                            if (dr.ItemArray[1].ToString() == firstColor)
                                                            {
                                                                if (Convert.ToInt16(dr.ItemArray[4].ToString()) == 0)
                                                                {
                                                                    c.Properties.Items.Add(dr.ItemArray[3].ToString());
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            if (Convert.ToInt16(dr.ItemArray[2].ToString()) == 0)
                                                            {
                                                                c.Properties.Items.Add(dr.ItemArray[1].ToString());
                                                            }
                                                        }
                                                    }
                                                    if (c.Properties.Items.Count == 1)
                                                    {
                                                        c.SelectedIndex = 0; c.Enabled = false;
                                                    }
                                                    c.Properties.ClientSideEvents.SelectedIndexChanged = "getSelectedSize";
                                                }
                                                else
                                                {
                                                    c.Enabled = false;
                                                }
                                            }
                                                                ).Render();
                        }
                    }
                }
            });

        });
        #endregion

        #region price
        if ((bool)Session["IsManPack"] == true)
        {
            settings.CardLayoutProperties.Items.Add(x =>
            {
                x.ColumnName = "Price";
                x.ShowCaption = DefaultBoolean.False;
                x.SetTemplateContent(col =>
                {
                    if (template.Count > 0)
                    {
                        var style = (DataBinder.Eval(col.DataItem, "StyleID")).ToString();
                        ViewContext.Writer.Write(string.Format("<b>Price</b><hr style='margin: 0;'/><br/><div id='LbTemplatePrice" + style + "'>{0}</div>", ""));
                        //ViewContext.Writer.Write(string.Format("<b>Price</b><hr style='margin: 0;'/><br/><div id='LbPrice" + style + "'>{0}</div>", price));
                    }
                    else
                    {
                        Maximus.Data.Models.PreviousQty prevHistory = (Maximus.Data.Models.PreviousQty)(DataBinder.Eval(col.DataItem, "HasPreviousSize"));
                        var style = (DataBinder.Eval(col.DataItem, "StyleID")).ToString();
                        if (style.Contains(','))
                        {
                            var styleArr = style.Split(',');
                            string style1 = styleArr[0].ToString();
                            var color = home._style_Colour.Exists(s => s.StyleID == style1) == true ? home._style_Colour.GetAll(s => s.StyleID == style1).OrderBy(s => s.ColourID).FirstOrDefault().ColourID : "";
                            var size = home._style_Sizes.Exists(s => s.StyleID == style1) == true ? home._style_Sizes.GetAll(s => s.StyleID == style1).OrderBy(s => s.SeqNo).Count() == 1 ? home._style_Sizes.GetAll(s => s.StyleID == style1).OrderBy(s => s.SeqNo).FirstOrDefault().SizeID : "" : "";
                            var price = size == "" ? "" : _dataConnection.GetStyleSizePrices(style1, size, businessId).ToString();
                            var priceVat = size == "" ? "" : hc.GetPriceWithVat(style1, size, businessId, "").ToString();
                            if (prevHistory.Size != "")
                            {
                                price = _dataConnection.GetStyleSizePrices(style1, prevHistory.Size, businessId).ToString();
                                if (price == "")
                                {
                                    price = _dataConnection.GetStyleSizePrices(style1, prevHistory.Size, "All").ToString();
                                }
                                priceVat = hc.GetPriceWithVat(style1, prevHistory.Size, businessId, "").ToString();
                                if (priceVat == "")
                                {
                                    priceVat = hc.GetPriceWithVat(style1, prevHistory.Size, "All", "").ToString();
                                }
                            }
                            string priceVatStr = "";
                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                            {
                                priceVatStr=  "<div  class='col-md-2' id='LbPriceVAT" + style + "'><span class='incv'>(inc. VAT)</span><input  class='form-control priceVat' id='LbPriceVATinput" + style + "' readonly title='Price including VAT'  type=\"number\" min=\"1\" max=\"10000\" value='" + priceVat + "'/> </div>";
                            }
                            ViewContext.Writer.Write(string.Format("<b>Price</b><hr style='margin: 0;'/><br/><div class='row'><div class='col-md-2' id='LbPrice" + style + "'><span class='incv'>(exc. VAT)</span><input class='form-control priceVat' id='LbPriceinput" + style + "' title='Price without VAT'  readonly  type=\"number\" min=\"1\" max=\"10000\" value='{0}'/>  </div>"+ priceVatStr + "</div>", price  ));
                        }
                        else
                        {
                            // string businessId = Session["BuisnessId"].ToString();
                            var color = home._style_Colour.Exists(s => s.StyleID == style) == true ? home._style_Colour.GetAll(s => s.StyleID == style).OrderBy(s => s.ColourID).FirstOrDefault().ColourID : "";
                            var size = home._style_Sizes.Exists(s => s.StyleID == style) == true ? home._style_Sizes.GetAll(s => s.StyleID == style).OrderBy(s => s.SeqNo).Count() == 1 ? home._style_Sizes.GetAll(s => s.StyleID == style).OrderBy(s => s.SeqNo).FirstOrDefault().SizeID : "" : "";
                            var price = size == "" ? "" : _dataConnection.GetStyleSizePrices(style, size, businessId).ToString();
                            var priceVat = size == "" ? "" : hc.GetPriceWithVat(style, size, businessId, "").ToString();
                            if (prevHistory.Size != "")
                            {
                                price = _dataConnection.GetStyleSizePrices(style, prevHistory.Size, businessId).ToString();
                                if (price == "")
                                {
                                    price = _dataConnection.GetStyleSizePrices(style, prevHistory.Size, "All").ToString();
                                }
                                priceVat = hc.GetPriceWithVat(style, prevHistory.Size, businessId, "").ToString();
                                if (priceVat == "")
                                {
                                    priceVat = hc.GetPriceWithVat(style, prevHistory.Size, "All", "").ToString();
                                }
                            }
                            string priceVatStr = "";
                            if (Convert.ToBoolean(Session["SHOWVAT"]))
                            {
                                priceVatStr = "<div  class='col-md-2' id='LbPriceVAT" + style + "'> <span class='incv'>(inc. VAT)</span><input title='Price including VAT'  class='form-control priceVat' id='LbPriceVATinput" + style + "' readonly  type=\"number\" min=\"1\" max=\"10000\" value='"+priceVat+"'/></div>";
                            }
                            ViewContext.Writer.Write(string.Format("<b>Price</b><hr style='margin: 0;'/><br/><div class='row'><div class='col-md-2' id='LbPrice" + style + "'><span class='incv'>(exc. VAT)</span><input class='form-control priceVat' id='LbPriceinput" + style + "' title='Price without VAT'  readonly  type=\"number\" min=\"1\" max=\"10000\" value='{0}'/></div>"+ priceVatStr + "</div>", price ));
                        }
                    }
                });


            });
        }
        #endregion

        #region qty
        settings.CardLayoutProperties.Items.Add(x =>
        {
            x.ShowCaption = DefaultBoolean.False;
            x.SetTemplateContent(cont =>
            {
                if (template.Count > 0)
                {
                    var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                    var reqDta = DataBinder.Eval(cont.DataItem, "ReqData") != null ? (DataBinder.Eval(cont.DataItem, "ReqData")).ToString() : "";
                    var content = "";
                    if (reqDta == "")
                    {
                        if ((bool)Session["IsManPack"] == true || (bool)Session["IsBulkOrder"] == true)
                        {
                            content = content + "<div class='row reqData" + style + "' style=\"display:none;\"><div class='col-md-4 col-xs-4 col-sm-4 col-lg-4'><b><span class='reqDataHeading" + style + "'></span></b><hr style='margin: 0;'/><div><input class='form-control reqdatatxt" + style + "'  id='reqdatatxt" + style + "' style='margin-top:10px' type=\"text\"/><br/></div></div></div>";
                        }
                        if ((bool)Session["IsManPack"] == true)
                        {
                            content = content + string.Format("<div class='row'><div class='col-md-4  col-xs-12 col-sm-12 col-lg-4'><b>Quantity</b><hr style='margin: 0;'/><div style='margin: 0;' class=\"center pull-left\"><p></p><div class=\"input-group\"><span class=\"input-group-btn\"><button type='button' class='qtyminus btn backg' field='{0}'><span class=\"glyphicon glyphicon-minus\"></span></button></span><input type='text' name='{0}'  class=\"qtyTextBox form-control  input-number\" value=\"1\" min=\"1\" max=\"10000000\"><span class=\"input-group-btn\"><button type='button' class='qtyplus  btn backg' field='{0}'><span class=\"glyphicon glyphicon-plus\"></span></button></span></div><p></p></div>", "spinEdit_" + style);
                        }

                        content = content + "</div>";
                    }
                    else
                    {
                        if ((bool)Session["IsManPack"] == true || (bool)Session["IsBulkOrder"] == true)
                        {
                            content = content + "<div class='row reqData" + style + "' style=\"display:block;\"><div class='col-md-4 col-xs-4 col-sm-4 col-lg-4'><b><span class='reqDataHeading" + style + "'>" + reqDta + "</span></b><hr style='margin: 0;'/><div><input class='form-control reqdatatxt" + style + "'  id='reqdatatxt" + style + "' style='margin-top:10px' type=\"text\"/><br/></div></div></div>";
                        }
                        if ((bool)Session["IsManPack"] == true)
                        {
                            content = content + string.Format("<div class='row'><div class='col-md-4  col-xs-12 col-sm-12 col-lg-4'><b>Quantity</b><hr style='margin: 0;'/><div style='margin: 0;' class=\"center pull-left\"><p></p><div class=\"input-group\"><span class=\"input-group-btn\"><button type='button' class='qtyminus btn backg' field='{0}'><span class=\"glyphicon glyphicon-minus\"></span></button></span><input type='text' name='{0}'  class=\"qtyTextBox form-control  input-number\" value=\"1\" min=\"1\" max=\"10000000\"><span class=\"input-group-btn\"><button type='button' class='qtyplus  btn backg' field='{0}'><span class=\"glyphicon glyphicon-plus\"></span></button></span></div><p></p></div>", "spinEdit_" + style);
                        }
                        content = content + "</div>";
                    }
                    ViewContext.Writer.Write(content);

                    if (Session["OVERRIDE_ENT_WITH_REASON"].ToString().ToLower() == "show" && reason && Convert.ToBoolean(Session["PRIVATEORDER"]) == false)
                    {
                        ViewContext.Writer.Write("<div class='col-md-4'><b>Reason</b><hr style='margin:0px'/><br><center   style='margin: -7px;'");
                        if (template.Count > 0)
                        {
                            //var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                            var reasons = home._reason.Exists(xs => xs.BusinessId == businessId) ? home._reason.GetAll(xs => xs.BusinessId == businessId).Select(c => new { c.Description }).ToList() : null;

                            if (reasons != null)
                            {
                                Html.DevExpress().ComboBox(edit =>
                                {
                                    //edit.Width = System.Web.UI.WebControls.Unit.Pixel(350);
                                    edit.ControlStyle.CssClass = "styler";
                                    edit.Name = "CmbReasonTemplate_" + style;
                                    if (reasons.Count > 0)
                                    {
                                        foreach (var dta in reasons)
                                        {
                                            edit.Properties.Items.Add(dta.Description);
                                        }
                                    }
                                    else
                                    {

                                        edit.Enabled = false;
                                        edit.ToolTip = "No return reasons found for the current customer";
                                    }
                                }).GetHtml();
                                //ViewContext.Writer.Write("</div>");
                            }
                        }
                        else
                        {
                            //var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                            //ViewContext.Writer.Write("<div class='col-md-2'>");
                            Html.DevExpress().ComboBox(edit =>
                            {
                                //edit.Width = System.Web.UI.WebControls.Unit.Pixel(350);
                                edit.ControlStyle.CssClass = "styler";
                                edit.Name = "CmbReason_" + style; edit.Width = System.Web.UI.WebControls.Unit.Pixel(300);
                                string BusinessId = Session["BuisnessId"].ToString();
                                var reasons = home._reason.GetAll(xs => xs.BusinessId == BusinessId).Select(c => new { c.Description }).ToList();
                                if (reasons.Count > 0)
                                {
                                    foreach (var dta in reasons)
                                    {
                                        edit.Properties.Items.Add(dta.Description);
                                    }
                                }
                                else
                                {

                                    edit.Enabled = false;
                                    edit.ToolTip = "No return reasons found for the current customer";
                                }
                            }).GetHtml();
                            //ViewContext.Writer.Write("</div>");
                        }
                        ViewContext.Writer.Write("</center></div>");
                    }
                    else
                    {
                        ViewContext.Writer.Write("<div class='col-md-4'></div>");
                    }
                    ViewContext.Writer.Write("<div class='col-md-3' style='margin-top:26px;'>");
                    if (template.Count > 0)
                    {
                        //var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                        Maximus.Data.Models.PreviousQty prevHistory = (Maximus.Data.Models.PreviousQty)(DataBinder.Eval(cont.DataItem, "HasPreviousSize"));
                        Html.DevExpress().Button(btn =>
                        {
                            // btn.Width = System.Web.UI.WebControls.Unit.Pixel(305);
                            btn.Name = "CartbtnTemplate_" + style + "_" + prevHistory.OrdQty;
                            btn.ControlStyle.CssClass = "cartBtn";
                            btn.Text = "Add to cart &nbsp;&nbsp;<span class='glyphicon glyphicon-shopping-cart'></span>";
                            btn.EncodeHtml = false;
                            btn.ControlStyle.CssClass = "cartBtn";
                            if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                            {
                                if ((bool)Session["IsManPack"] == true)
                                {
                                    btn.ClientSideEvents.Click = "addTocartTemplateSwatch";
                                    //btn.ClientSideEvents.Click = "addTocartSwatch";
                                }
                                else if ((bool)Session["IsBulkOrder1"] == true)
                                {
                                    btn.ClientSideEvents.Click = "addTocartTemplateBulkOrder1";
                                    //btn.ClientSideEvents.Click = "addToCartBulkOrder1";
                                }

                            }
                            else
                            {
                                btn.ClientSideEvents.Click = "addTocartTemplate";
                            }
                        }).GetHtml();

                    }
                    else
                    {
                        //var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                        var orgStyle = (DataBinder.Eval(cont.DataItem, "OriginalStyleid")).ToString();
                        Maximus.Data.Models.PreviousQty prevHistory = (Maximus.Data.Models.PreviousQty)(DataBinder.Eval(cont.DataItem, "HasPreviousSize"));
                        Html.DevExpress().Button(btn =>
                        {
                            int ordQty = prevHistory == null ? 0 : prevHistory.OrdQty;
                            //btn.Width = System.Web.UI.WebControls.Unit.Pixel(305);
                            btn.Name = "Cartbtn_" + style + "_" + ordQty + "_" + orgStyle;
                            btn.ControlStyle.CssClass = "cartBtn";
                            btn.Text = "Add to cart &nbsp;&nbsp;<span class='glyphicon glyphicon-shopping-cart'></span>";
                            btn.ControlStyle.CssClass = "cartBtn";
                            if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                            {

                                if ((bool)Session["IsManPack"] == true)
                                {
                                    if (Convert.ToBoolean(Session["IsEmergency"]))
                                    {
                                        btn.ClientSideEvents.Click = "addTocartSwatchEmergency";
                                    }
                                    else
                                    {
                                        btn.ClientSideEvents.Click = "addTocartSwatch";
                                    }
                                }
                                else if ((bool)Session["IsBulkOrder1"] == true)
                                {
                                    btn.ClientSideEvents.Click = "addToCartBulkOrder1";
                                }

                            }
                            else
                            {
                                btn.ClientSideEvents.Click = "addTocart";
                            }
                            btn.EncodeHtml = false;

                        }).GetHtml();
                    }
                    ViewContext.Writer.Write("</div><div class='col-md-1'></div></div>");
                }
                else
                {
                    var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                    var orgStyle = (DataBinder.Eval(cont.DataItem, "OriginalStyleid")).ToString();
                    var reqDta = DataBinder.Eval(cont.DataItem, "ReqData") != null ? (DataBinder.Eval(cont.DataItem, "ReqData")).ToString() : "";
                    var content = "";
                    if (reqDta == "")
                    {
                        if ((bool)Session["IsManPack"] == true || (bool)Session["IsBulkOrder"] == true)
                        {
                            content = content + "<div class='row reqData" + style + "' style=\"display:none;\"><div class='col-md-4 col-xs-4 col-sm-4 col-lg-4'><b><span class='reqDataHeading" + style + "'></span></b><hr style='margin: 0;'/><div> <input class='form-control reqdatatxt" + style + "' style='margin-top:10px'   type=\"text\"/><br/></div></div></div>";
                        }
                        if ((bool)Session["IsManPack"] == true)
                        {
                            content = content + string.Format("<div class='row'><div class='col-md-4   col-xs-12 col-sm-12 col-lg-4'><b>Quantity</b><hr style='margin: 0;'/><div style='margin: 0;' class=\"center pull-left\"><p></p><div class=\"input-group\"><span class=\"input-group-btn\"><button type='button' class='qtyminus btn backg' field='{0}'><span class=\"glyphicon glyphicon-minus\"></span></button></span><input  type='text' name='{0}'   class=\"qtyTextBox form-control  input-number\" value=\"1\" min=\"1\" max=\"10000000\"><span class=\"input-group-btn\"><button type='button' class='qtyplus  btn backg' field='{0}'><span class=\"glyphicon glyphicon-plus\"></span></button></span></div><p></p></div>", "spinEdit_" + style);
                        }
                        content = content + "</div>";
                    }
                    else
                    {
                        if ((bool)Session["IsManPack"] == true || (bool)Session["IsBulkOrder"] == true)
                        {
                            if (style.Contains(","))
                            {
                                if (style.Split(',')[0] == orgStyle)
                                {
                                    content = content + "<div class='row reqData" + style + "' style=\"display:block;\"><div class='col-md-4 col-xs-4 col-sm-4 col-lg-4'><b><span class='reqDataHeading" + style + "'>" + reqDta + "</span></b><hr style='margin: 0;'/><div> <input class='form-control reqdatatxt" + style + "' style='margin-top:10px'   type=\"text\"/><br/></div></div></div>";
                                }
                                else
                                {
                                    content = content + "<div class='row reqData" + style + "' style=\"display:none;\"><div class='col-md-4 col-xs-4 col-sm-4 col-lg-4'><b><span class='reqDataHeading" + style + "'></span></b><hr style='margin: 0;'/><div> <input class='form-control reqdatatxt" + style + "' style='margin-top:10px'   type=\"text\"/><br/></div></div></div>";
                                }
                            }
                            else
                            {
                                content = content + "<div class='row reqData" + style + "' style=\"display:block;\"><div class='col-md-4 col-xs-4 col-sm-4 col-lg-4'><b><span class='reqDataHeading" + style + "'>" + reqDta + "</span></b><hr style='margin: 0;'/><div> <input class='form-control reqdatatxt" + style + "' style='margin-top:10px'   type=\"text\"/><br/></div></div></div>";
                            }

                        }
                        if ((bool)Session["IsManPack"] == true)
                        {
                            content = content + string.Format("<div class='row'><div class='col-md-4   col-xs-12 col-sm-12 col-lg-4'><b>Quantity</b><hr style='margin: 0;'/><div style='margin: 0;' class=\"center pull-left\"><p></p><div class=\"input-group\"><span class=\"input-group-btn\"><button type='button' class='qtyminus btn backg' field='{0}'><span class=\"glyphicon glyphicon-minus\"></span></button></span><input  type='text' name='{0}'   class=\"qtyTextBox form-control  input-number\" value=\"1\" min=\"1\" max=\"10000000\"><span class=\"input-group-btn\"><button type='button' class='qtyplus  btn backg' field='{0}'><span class=\"glyphicon glyphicon-plus\"></span></button></span></div><p></p></div>", "spinEdit_" + style);
                        }
                        content = content + "</div>";
                    }
                    ViewContext.Writer.Write(content);

                    if (Session["OVERRIDE_ENT_WITH_REASON"].ToString().ToLower() == "show" && reason && Convert.ToBoolean(Session["PRIVATEORDER"]) == false)
                    {
                        ViewContext.Writer.Write("<div class='col-md-4'><b>Reason</b><hr style='margin:0px'/><br>");
                        if (template.Count > 0)
                        {
                            //var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                            var reasons = home._reason.Exists(xs => xs.BusinessId == businessId) ? home._reason.GetAll(xs => xs.BusinessId == businessId).Select(c => new { c.Description }).ToList() : null;

                            if (reasons != null)
                            {
                                Html.DevExpress().ComboBox(edit =>
                                {
                                    edit.Name = "CmbReasonTemplate_" + style;
                                    edit.Width = System.Web.UI.WebControls.Unit.Pixel(350);
                                    edit.ControlStyle.CssClass = "styler";
                                    if (reasons.Count > 0)
                                    {
                                        foreach (var dta in reasons)
                                        {
                                            edit.Properties.Items.Add(dta.Description);
                                        }
                                    }
                                    else
                                    {

                                        edit.Enabled = false;
                                        edit.ToolTip = "No return reasons found for the current customer";
                                    }
                                }).GetHtml();
                                //ViewContext.Writer.Write("</div>");
                            }
                        }
                        else
                        {
                            //var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                            //ViewContext.Writer.Write("<div class='col-md-2'>");
                            Html.DevExpress().ComboBox(edit =>
                            {
                                edit.Name = "CmbReason_" + style;
                                string BusinessId = Session["BuisnessId"].ToString();
                                var reasons = home._reason.GetAll(xs => xs.BusinessId == BusinessId).Select(c => new { c.Description }).ToList();
                                edit.Width = System.Web.UI.WebControls.Unit.Pixel(350);
                                edit.ControlStyle.CssClass = "styler";
                                if (reasons.Count > 0)
                                {
                                    foreach (var dta in reasons)
                                    {
                                        edit.Properties.Items.Add(dta.Description);
                                    }
                                }
                                else
                                {

                                    edit.Enabled = false;
                                    edit.ToolTip = "No return reasons found for the current customer";
                                }
                            }).GetHtml();
                            //ViewContext.Writer.Write("</div>");
                        }
                        ViewContext.Writer.Write("</div>");
                    }
                    else
                    {
                        ViewContext.Writer.Write("<div class='col-md-4'></div>");
                    }
                    ViewContext.Writer.Write("<div class='col-md-3' style='margin-top:26px;'>");
                    if (template.Count > 0)
                    {
                        //var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();
                        Maximus.Data.Models.PreviousQty prevHistory = (Maximus.Data.Models.PreviousQty)(DataBinder.Eval(cont.DataItem, "HasPreviousSize"));
                        Html.DevExpress().Button(btn =>
                        {
                            // btn.Width = System.Web.UI.WebControls.Unit.Pixel(305);
                            btn.Name = "CartbtnTemplate_" + style + "_" + prevHistory.OrdQty;
                            btn.ControlStyle.CssClass = "cartBtn";
                            btn.Text = "Add to cart &nbsp;&nbsp;<span class='glyphicon glyphicon-shopping-cart'></span>";
                            btn.EncodeHtml = false;
                            btn.ControlStyle.CssClass = "cartBtn";
                            if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                            {
                                if ((bool)Session["IsManPack"] == true)
                                {
                                    btn.ClientSideEvents.Click = "addTocartTemplateSwatch";
                                    //btn.ClientSideEvents.Click = "addTocartSwatch";
                                }
                                else if ((bool)Session["IsBulkOrder1"] == true)
                                {
                                    btn.ClientSideEvents.Click = "addTocartTemplateBulkOrder1";
                                    //btn.ClientSideEvents.Click = "addToCartBulkOrder1";
                                }

                            }
                        }).GetHtml();

                    }
                    else
                    {
                        //var style = (DataBinder.Eval(cont.DataItem, "StyleID")).ToString();

                        Maximus.Data.Models.PreviousQty prevHistory = (Maximus.Data.Models.PreviousQty)(DataBinder.Eval(cont.DataItem, "HasPreviousSize"));
                        Html.DevExpress().Button(btn =>
                        {
                            int ordQty = prevHistory == null ? 0 : prevHistory.OrdQty;
                            btn.Name = "PvtCartbtn_" + style + "_" + ordQty + "_" + orgStyle;
                            btn.Text = "Add to cart &nbsp;&nbsp;<span class='glyphicon glyphicon-shopping-cart'></span>";
                            btn.ControlStyle.CssClass = "cartBtn";
                            if (Session["ColorSizestyle"].ToString() == "SWATCHES")
                            {
                                btn.ClientSideEvents.Click = "addTocartSwatchPrivate";
                            }
                            btn.EncodeHtml = false;

                        }).GetHtml();
                    }
                    ViewContext.Writer.Write("</div><div class='col-md-1'></div></div>");

                    //Html.DevExpress().SpinEdit(edit =>
                    //{
                    //    edit.Name = "spinEdit_" + style;
                    //    edit.Properties.AllowMouseWheel = true;
                    //    edit.Properties.AllowUserInput = true;
                    //    edit.Properties.MinValue = 1;
                    //    edit.Number = 1;
                    //    edit.Properties.MaxValue = 1000000;
                    //}).GetHtml();
                }
            });

        });
        #endregion

        #endregion

        #region assigning values to the combobox
        #endregion
    });
    if (ViewData["EditError"] != null)
    {
        cardView.SetEditErrorText((string)ViewData["EditError"]);
    }
    }
    @cardView.Bind(Model).GetHtml()






@*<div class=\"input-group\">
        <span class=\"input-group-btn\">
            <button type='button' class='qtyminus btn' field='quantity123'>
            <span class=\"glyphicon glyphicon-minus\"></span>
            </button>
        </span>
        <input type='text' name='quantity123' class=\"form-control input-number\" value=\"1\" min=\"1\" max=\"10000000\">
        <span class=\"input-group-btn\">
            <button type='button' class='qtyplus  btn' field='quantity123'>
                <span class=\"glyphicon glyphicon-plus\"></span>
            </button>
        </span>
    </div>*@
@*<br />
    <br />
    <br />
    <div class="alert alert-success" style="height:100%;width:100%">

    </div>*@





